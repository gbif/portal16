<div search-drawer filter="occurrence.occurrenceState" content-type="occurrences" ng-class="{'is-active': occurrence.showFilters}">
    <div class="site-drawer__section">
        <div class="search-bar filter-group">
            <form class="search-bar__term" ng-submit="occurrence.search()">
                <input type="text"
                       id="siteSearch"
                       autocomplete="off"
                       ng-model="occurrence.freeTextQuery"
                       placeholder="{{'occurrenceSearch.searchAllFields' | translate}}">
                <!--<a href="" class="gb-icon-close search-bar__clear ng-cloak" ng-show="dataset.freeTextQuery" ng-click="dataset.clearFreetextAndSetFocus()"></a>-->
                <a href="" type="submit" class="gb-icon-search search-bar__search" ng-click="occurrence.search()">
                    <span class="sr-only" translate="search.search"></span>
                </a>
            </form>
        </div>


        <!--<div class="filter-group filter-group&#45;&#45;search">-->
        <!--<div class="filter-group__filter">-->
        <div class="seperator--b"
             ng-if="occurrence.showFreeTextSpeciesSuggestion && occurrence.freeTextSpeciesSuggestion">
            <div class="m-05">
                <span>Did you mean</span>
                <p>
                    {{occurrence.freeTextSpeciesSuggestion.scientificName}} the <span
                        translate="taxonRank.{{occurrence.freeTextSpeciesSuggestion.rank}}"></span>?
                </p>
            </div>
            <div class="site-drawer__bar">
                <a href="" class="site-drawer__bar__action"
                   ng-click="occurrence.addTaxon(occurrence.freeTextSpeciesSuggestion)">
                    <span translate="occurrenceSearch.yesCorrectSuggestion"></span>
                </a>
                <a href="" class="site-drawer__bar__action" ng-click="occurrence.showFreeTextSpeciesSuggestion = false">
                    <span translate="occurrenceSearch.noWrongSuggestion"></span>
                </a>
            </div>
        </div>

        <div class="filter-group text-center">
            <div class="gb-btn-group">
                <label ng-model="occurrence.occurrenceState.query.advanced" uib-btn-radio="false"
                       ng-change="occurrence.toggleAdvanced()" translate="search.simple"></label>
                <label ng-model="occurrence.occurrenceState.query.advanced" uib-btn-radio="true"
                       ng-change="occurrence.toggleAdvanced()" translate="search.advanced"></label>
            </div>
        </div>

        <div filter-enum filter-config="occurrence.filters.license" filter-state="occurrence.occurrenceState"></div>

        <div filter-taxon filter-config="occurrence.filters.taxonKey" filter-state="occurrence.occurrenceState"></div>

        <div filter-enum filter-config="occurrence.filters.basisOfRecord" filter-state="occurrence.occurrenceState"></div>

        <div filter-location filter-config="occurrence.filters.location" filter-state="occurrence.occurrenceState"></div>

        <div filter-interval filter-config="occurrence.filters.year" filter-state="occurrence.occurrenceState"></div>

        <div filter-enum filter-config="occurrence.filters.month" filter-state="occurrence.occurrenceState"></div>

        <div filter-taxon filter-config="occurrence.filters.dataset" filter-state="occurrence.occurrenceState"></div>

        <div filter-enum filter-config="occurrence.filters.countryCode" filter-state="occurrence.occurrenceState"></div>

        <div filter-enum filter-config="occurrence.filters.issue" filter-state="occurrence.occurrenceState"></div>

        <div filter-enum filter-config="occurrence.filters.mediaType" filter-state="occurrence.occurrenceState"></div>

        <div filter-taxon filter-config="occurrence.filters.publisher" filter-state="occurrence.occurrenceState"></div>

        <div filter-suggest filter-config="occurrence.filters.institutionCode"
             filter-state="occurrence.occurrenceState"></div>

        <div filter-suggest filter-config="occurrence.filters.collectionCode"
             filter-state="occurrence.occurrenceState"></div>

        <div filter-suggest filter-config="occurrence.filters.catalogNumber"
             filter-state="occurrence.occurrenceState"></div>

        <div filter-enum filter-config="occurrence.filters.typeStatus" filter-state="occurrence.occurrenceState"></div>

        <div filter-suggest filter-config="occurrence.filters.recordedBy" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-suggest filter-config="occurrence.filters.recordNumber" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-suggest filter-config="occurrence.filters.occurrenceId" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-suggest filter-config="occurrence.filters.organismId" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-enum filter-config="occurrence.filters.publishingCountry" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-interval filter-config="occurrence.filters.elevation" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-interval filter-config="occurrence.filters.depth" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-suggest filter-config="occurrence.filters.locality" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-suggest filter-config="occurrence.filters.waterBody" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-suggest filter-config="occurrence.filters.stateProvince" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-ternary filter-config="occurrence.filters.repatriated" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-enum filter-config="occurrence.filters.protocol" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <!--
        <div filter-suggest filter-config="occurrence.filters.eventId" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-suggest filter-config="occurrence.filters.networkKey" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-suggest filter-config="occurrence.filters.installationKey" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-suggest filter-config="occurrence.filters.samplingProtocol" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>
        -->

        <div filter-date filter-config="occurrence.filters.lastInterpreted" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-date filter-config="occurrence.filters.eventDate" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

        <div filter-enum filter-config="occurrence.filters.establishmentMeans" filter-state="occurrence.occurrenceState"
             ng-if="occurrence.occurrenceState.query.advanced"></div>

    </div>

</div>
<div class="content__overlay hide-on-laptop" ng-click="occurrence.showFilters = false" ng-if="occurrence.showFilters"></div>
<div class="site-content">

    <div class="site-content__page lighter-background">
        <div class="occurrence-search-results">
            <div ui-view ng-if="!occurrence.occurrenceState.failedRequest">
            </div>
            <div ng-if="occurrence.occurrenceState.failedRequest" class="emptyInfo">
                <h3 translate="phrases.failed"></h3>
                <p translate="occurrenceSearch.failedSearch"></p>
            </div>
        </div>
    </div>

    <div class="fab hide-on-laptop">
        <a href="" class="gb-button--brand" ng-click="occurrence.showFilters = !occurrence.showFilters" ng-if="!occurrence.showFilters">
            <span><span class="gb-icon-filters"></span><span translate="search.filters"></span></span>
        </a>
    </div>

</div>
