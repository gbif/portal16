$home_overlay_opacity = 0.3
$dark_overlay_opacity = 0.4
$home_overlay_color_from = rgba(0, 0, 0, $home_overlay_opacity)
$home_overlay_color_to = rgba(0, 0, 0, 0)
$dark_overlay_color = rgba(0, 0, 0, $dark_overlay_opacity)

.home {
    &__header {
        background-color $navBar_background_color// $olivine
        > div {
            background-image linear-gradient(to right, $home_overlay_color_from, $home_overlay_color_to)
        }
        background-size cover
        background-position center
        color white
        position relative
        &__hero-text {
            padding vrBlock(4) 0
        }
        h1 {
            max-width 700px
            margin-top 0
            margin-bottom vrBlock(1)
        }
        .caption {
            font-size 12px
            position absolute
            right 0
            bottom 0
            padding 5px 10px 0 10px
            color rgba(255, 255, 255, 0.5)
            a {
                color inherit
                text-decoration underline
            }
            &:hover {
                color white
                background rgba(0, 0, 0, 0.3)
            }
        }
    }
    .search-box {
        max-width 700px
    }
    &__searchFilters {
        background darken($navBar_background_color, 10)
        display flex
        overflow auto
        max-width 700px
        color white
        a {
            flex 1 0 auto
            padding 7px
            padding-bottom 3px
            border-bottom 2px solid transparent
            text-align center
            font-size 12px
            text-transform uppercase
            &:hover {
                border-bottom 2px solid darken($navBar_background_color, 20)
            }
        }
    }
    &__quicklinks {
        //max-width 400px
        a {
            display inline-block
            margin 5px 2px 0 0
        }
    }
    //&__news {
    //    padding-top vrBlock(2)
    //}
}

//LAPTOPS
+isAbove($laptop) {
    .home {
        //height 0
        //padding-bottom 30%
        &__header {
            h1 {
                font-size 45px
            }
        }
    }
}

+isAbove($laptop) {
    .hasTransparentMenu {
        main {
            padding-top 0
        }
        .site-nav {
            background rgba(0,0,0,0.0)
            transition background 300ms ease
            box-shadow none
            position absolute
            &:hover {
                background rgba(0,0,0,0.2)
            }
        }
        .omnisearch-bar {
            display none
        }
    }
}

.articles, .home__counts {
    .article-box {
        width 300px
        max-width 100%
        margin $halfGutter auto
        &__details {
            background white
            padding 10px 0
        }
        &__tag {
            font-size 12px
            margin-bottom 3px
            font-weight bold
            color $orangePeel
        }
        &__title {
            font-weight 400
            font-size 16px
            line-height $lineHeightRatio
            margin 0
            color #555
        }
        &__footer {
            font-size 12px
            font-weight normal
            color #aaa
        }
        &--stats {
            h3 {
                margin 0
            }
            div {
                font-size 30px
            }
            
            p {
                //font-size 12px
                color #aaa
                margin-top 5px
            }
        }
    }
}

+isAbove(500px) {
    .articles, .home__counts {
        margin 0 (-($halfGutter / 2))
        display flex
        flex-wrap wrap
        justify-content center
        .article-box {
            margin $halfGutter ($halfGutter/ 2)
            flex 1 1 auto
            width "calc(100% / 2 - %s)" % ($halfGutter* 2)
        }
    }
}

+isAbove(1000px) {
    .articles, .home__counts {
        .article-box {
            width "calc(100% / 4 - %s)" % ($halfGutter* 2)
            flex 1 1 auto
        }
    }
}

.home__counts {
    .article-box--stats {
        margin-bottom 0
    }
}

//+isAbove(1300px) {
//    .articles {
//        .article-box {
//            width 300px
//        }
//    }
//}

.date-box {
    //background darkseagreen
    $radLighter = lighten(darkseagreen, 5)
    $radDarker = darken(darkseagreen, 5)
    background radial-gradient(farthest-corner at 30% 20%, $radLighter 20%, darkseagreen 60%, $radDarker)
    color white
    text-align center
    width 100%
    //height 0
    padding 0
    //padding-bottom 66%
    position relative
    img {
        width 100%
    }
    > div {
        position absolute
        top 0
        bottom 0
        width 100%
        height 100%
        > div {
            vertically-align()
            //width 126px
            //height 126px
            //border-radius 50%
            //background $olivine
            //margin auto
            div {
                font-size 40px
                font-weight normal
            }
        }
    }
}

.features {
    &__intro {
        text-align center
        padding vrBlock(5) 0 vrBlock(3) 0
    }
}

$featureIllustrationSize = 300px
.feature {
    background-size cover
    background-position center
    margin $halfGutter 0

    &--blank {
        .feature__summary {
            padding vrBlock(1)
            color #444
            background none
        }
    }

    &__summary {
        padding vrBlock(5) vrBlock(2)
        position relative
        color white
        background rgba(0, 0, 0, 0.6)
    }
}